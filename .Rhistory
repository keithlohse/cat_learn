#
# Anova(m0, type="III")
# summary(m0)
# coef(m0)
#
# df<-tibble::rownames_to_column(coef(m0)$subID)
# head(df)
# names(df) <- c("subID", "Intercept", "Year", "Year_sq")
# df$subID<-factor(df$subID)
# head(df)
# head(DATA)
# df2<-unique(DATA[,c("subID","age_engagement", "ave_rank", "hours.btw",
#                     "age_2018")])
# head(df2)
#
# df<-right_join(x=df, y=df2, by="subID")
# head(df)
#
# ggplot(data = df,
#        mapping = aes(x = age_2018, y = Year)) +
#   geom_point(aes(fill=age_2018), pch=21, size=1, stroke=1,
#              col="black", alpha = .8) +
#   stat_smooth(method="lm", se=TRUE, col="black", lty=2) +
#   scale_x_continuous(name="Age in 2018", limits = c(12,20))+
#   scale_y_continuous(name="Rate of Change (Slope)")+
#   theme(axis.text.x=element_text(size=16, colour="black"),
#         axis.text.y=element_text(size=16, colour="black"),
#         title=element_text(size=16, face="bold"),
#         strip.text = element_text(size=16, face="bold"),
#         legend.position = "none")
## Age of First Engagement -----------------------------------------------------
TRIM$age_engagement
mean_age_engagement <- mean(TRIM$age_engagement)
mean_age_engagement
mean_age_engagement <- mean(TRIM$age_engagement, na.rm=TRUE)
mean_age_engagement
summary(TRIM$age_engagement)
sd(TRIM$age_engagement,na.rm = TRUE)
sd(TRIM$age_engagement)
sd(TRIM$age_engagement,na.rm = TRUE)
plot(density(resid(TRIM$age_engagement)))
plot(density(TRIM$age_engagement))
plot(density(TRIM$age_engagement, na.rm=TRUE))
qqnorm(resid(tech_age_engagement)/sd(resid(tech_age_engagement)))
TECH<-read.csv("./data_TECH_CLEAN.csv", header = TRUE, sep=",",
na.strings=c("NA","NaN"," ",""))
g1 <- ggplot(data = TECH, mapping = aes(x = Year, y = NAT_TECH, color = age_engagement > 2, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(TECH$Year, n=3))+
scale_y_continuous(name = "Predicted National Technical Points", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Engagement",
labels = c("(Early First Engagement <=2)",
"Late First Engagement (>2)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
SPD<-read.csv("./data_SPD_CLEAN.csv", header = TRUE, sep=",",
na.strings=c("NA","NaN"," ",""))
g1 <- ggplot(data = SPD, mapping = aes(x = Year, y = NAT_SPD, color = age_engagement > 2, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(SPD$Year, n=3))+
scale_y_continuous(name = "Predicted National Speed Points", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Engagement",
labels = c("(Early First Engagement <=2)",
"Late First Engagement (>2)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
summary(TRIM$age_supervision)
sd(TRIM$age_supervision,na.rm = TRUE)
summary(TRIM$age_supervision)
sd(TRIM$age_supervision,na.rm = TRUE)
g1 <- ggplot(data = TECH, mapping = aes(x = Year, y = NAT_TECH, color = age_supervision > 6, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(TECH$Year, n=3))+
scale_y_continuous(name = "Predicted National Technical Points (Rank)", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Supervised Ski Practice",
labels = c("(Early First Supervised Engagement <=6)",
"Late First Supervised Engagement (>6)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
g1 <- ggplot(data = SPD, mapping = aes(x = Year, y = NAT_SPD, color = age_supervision > 6, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(SPD$Year, n=3))+
scale_y_continuous(name = "Predicted National Speed Points (Rank)", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Supervised Ski Practice",
labels = c("(Early First Supervised Engagement <=6)",
"Late First Supervised Engagement (>6)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
summary(TRIM$first_comp)
sd(TRIM$first_comp,na.rm = TRUE)
g1 <- ggplot(data = TECH, mapping = aes(x = Year, y = NAT_TECH, color = first_comp > 7, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(TECH$Year, n=3))+
scale_y_continuous(name = "Predicted National Technical Points (Rank)", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Competition",
labels = c("(Early First Competition <=7)",
"Late First Competition (>7)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
g1 <- ggplot(data = SPD, mapping = aes(x = Year, y = NAT_SPD, color = first_comp > 7, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(SPD$Year, n=3))+
scale_y_continuous(name = "Predicted National Speed Points (Rank)", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Competition",
labels = c("(Early First Competition <=7)",
"Late First Competition (>7)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
summary(TRIM$first_non_ski_training)
sd(TRIM$first_non_ski_training,na.rm = TRUE)
g1 <- ggplot(data = TECH, mapping = aes(x = Year, y = NAT_TECH, color = first_non_ski_training > 12, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(TECH$Year, n=3))+
scale_y_continuous(name = "Predicted National Technical Points (Rank)", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Non-Ski Training",
labels = c("(Early First Non-Ski Training <=12)",
"Late First Non-Ski Training (>12)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
g1 <- ggplot(data = SPD, mapping = aes(x = Year, y = NAT_SPD, color = first_non_ski_training > 12, na.rm = TRUE))+
geom_smooth(method = "lm", size = 2, se = FALSE)+
geom_point()+
ggtitle(element_blank())
g2 <- g1+scale_x_continuous (name="Years", limits = c(2014,2018), breaks = pretty(SPD$Year, n=3))+
scale_y_continuous(name = "Predicted National Speed Points (Rank)", limits = c(50,250))
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=16, colour="black"),
axis.title=element_text(size=16,face="bold")) +
theme(strip.text.x = element_text(size = 10))+
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank())+
theme(axis.title.y = element_text(margin = margin(t = 0, r = 30, b = 0, l = 15)))+
theme(axis.title.x = element_text(margin = margin(t = 20, r = 0, b = 10, l = 0)))+
theme(legend.position = "right")
g4 <- g3+scale_color_manual(name="Age of First Non-Ski Training",
labels = c("(Early First Non-Ski Training <=12)",
"Late First Non-Ski Training (>12)"),
values = c("FALSE" = "blue",
"TRUE" = "red"))
plot(g4)
head(TECH)
# Creating Centered versions of the Years Variable
TECH$year2018<-TECH$Year-2018
TECH$year2018.sq<-TECH$year2018^2
TECH$year2018.cu<-TECH$year2018^3
# Confirming there are no NAs or 0's in NAT_TECH
summary(as.factor(TECH$NAT_TECH))
g1<-ggplot(TECH, aes(x = Year, y = NAT_TECH)) +
#geom_point(aes(fill=as.factor(subID)), pch=21, size=2, stroke=1.25) +
geom_line(aes(group=subID, col=subID))+
stat_smooth(method="lm", se=FALSE, col="black", fill="red", lwd=1.5)
g2<-g1+scale_x_continuous(name = "Years", limits=c(2014,2018)) +
scale_y_continuous(name = "Technical Points (National)")
g3 <- g2 + theme_bw() +
theme(axis.text=element_text(size=14, colour="black"),
axis.title=element_text(size=14,face="bold")) +
theme(strip.text.x = element_text(size = 14)) +
theme(legend.position="none")
plot(g3)
## Effects of Time on TECHNICAL points ----
m0<-lmer(NAT_TECH~
# Fixed-effects
1+year2018+
# Random-effects
(1+year2018|subID), data=TECH, REML=FALSE)
summary(m0)
# Level 1 Assumptions
plot(density(resid(m0)))
qqnorm(resid(m0)/sd(resid(m0)))
abline(a=0, b=1)
shapiro.test(resid(m0)/sd(resid(m0)))
length(resid(m0))
ks.test(x=resid(m0)/sd(resid(m0)),
y=rnorm(423, 0, 1))
# Level 2
head(TECH)
LVL2<-TECH %>%
group_by(subID) %>%
summarise(Age_2018=Age_2018[1])
head(LVL2)
LVL2$RE_int<-ranef(m0)$subID$`(Intercept)`
LVL2$RE_slope<-ranef(m0)$subID$year2018
LVL2$SRE_int<-LVL2$RE_int/sd(LVL2$RE_int)
LVL2$SRE_slope<-LVL2$RE_slope/sd(LVL2$RE_slope)
head(LVL2)
qqnorm(LVL2$SRE_int, ylim=c(-4,4), xlim=c(-4,4))
abline(a=0, b=1)
qqnorm(LVL2$SRE_slope, ylim=c(-4,4), xlim=c(-4,4))
abline(a=0, b=1)
shapiro.test(LVL2$SRE_int)
shapiro.test(LVL2$SRE_slope)
ks.test(LVL2$SRE_int, rnorm(151, 0, 1))
ks.test(LVL2$SRE_slope, rnorm(151, 0, 1))
plot(fitted(m0),resid(m0))
m1<-lmer(NAT_TECH~
# Fixed-effects
1+year2018+year2018.sq+
# Random-effects
(1+year2018|subID), data=TECH, REML=FALSE)
summary(m1)
m2<-lmer(NAT_TECH~
# Fixed-effects
1+year2018+year2018.sq+year2018.cu+
# Random-effects
(1+year2018|subID), data=TECH, REML=FALSE)
anova(m0,m1)
summary(m2)
# NAT_TECH by Hours ------------------------------------------------------------
# Total Hours (Exlcuding Indirect Hours) ----
tech01<-lmer(NAT_TECH~
# Fixed-effects
1+year2018*mean_HOURS_TOTAL*Rel_Age+HOURS_TOTAL.c+
# Random-effects
(1+year2018|subID), data=TECH, REML=FALSE)
summary(tech01)
# Level 1 Assumptions
plot(density(resid(tech01)))
qqnorm(resid(tech01)/sd(resid(tech01)))
abline(a=0, b=1)
shapiro.test(resid(tech01)/sd(resid(tech01)))
length(resid(tech01))
ks.test(x=resid(tech01)/sd(resid(tech01)),
y=rnorm(423, 0, 1))
# Level 2
head(TECH)
LVL2<-tech01 %>%
group_by(subID) %>%
summarise(Age_2018=Age_2018[1])
head(LVL2)
LVL2$RE_int<-ranef(m0)$subID$`(Intercept)`
LVL2$RE_slope<-ranef(m0)$subID$year2018
LVL2$SRE_int<-LVL2$RE_int/sd(LVL2$RE_int)
LVL2$SRE_slope<-LVL2$RE_slope/sd(LVL2$RE_slope)
head(LVL2)
qqnorm(LVL2$SRE_int, ylim=c(-4,4), xlim=c(-4,4))
abline(a=0, b=1)
qqnorm(LVL2$SRE_slope, ylim=c(-4,4), xlim=c(-4,4))
abline(a=0, b=1)
ks.test(LVL2$SRE_int, rnorm(151, 0, 1))
ks.test(LVL2$SRE_slope, rnorm(151, 0, 1))
plot(fitted(tech01),resid(tech01))
tech02<-lmer(NAT_TECH~
# Fixed-effects
1+year2018*mean_Indirect*Rel_Age+Indirect.c+
# Random-effects
(1+year2018|subID), data=TECH, REML=FALSE)
plot(fitted(m0),resid(m0))
plot(fitted(m0),sqrt(abs(resid(m0))))
lm(sqrt(abs(resid(m0)))~fitted(m0))
summary(lm(sqrt(abs(resid(m0)))~fitted(m0)))
leveneTest(resid(m0)~fitted(m0))
plot(fitted(m0),resid(m0)/sd(resid(m0)))
plot(fitted(m0),(abs(resid(m0)/sd(resid(m0))))
)
plot(fitted(m0),(abs(resid(m0)/sd(resid(m0)))))
summary(lm((abs(resid(m0)/sd(resid(m0))))~fitted(m0)))
plot(fitted(m0),resid(m0)/sd(resid(m0)))
m2<-lmer(sqrt(NAT_SPD)~
# Fixed-effects
1+year2018+year2018.sq+year2018.cu+
# Random-effects
(1+year2018|subID), data=SPD, REML=FALSE)
# Creating Centered versions of the Years Variable
SPD$year2018<-SPD$Year-2018
SPD$year2018.cu<-SPD$year2018^3
SPD$year2018.sq<-SPD$year2018^2
m2<-lmer(sqrt(NAT_SPD)~
# Fixed-effects
1+year2018+year2018.sq+year2018.cu+
# Random-effects
(1+year2018|subID), data=SPD, REML=FALSE)
anova(m0,m1)
summary(m2)
## Effects of Time ----
m0<-lmer(NAT_SPD~
# Fixed-effects
1+year2018+
# Random-effects
(1+year2018|subID), data=SPD, REML=FALSE)
summary(m0)
m1<-lmer(NAT_SPD~
# Fixed-effects
1+year2018+year2018.sq+
# Random-effects
(1+year2018|subID), data=SPD, REML=FALSE)
anova(m0,m1)
summary(m1)
m2<-lmer(NAT_SPD~
# Fixed-effects
1+year2018+year2018.sq+year2018.cu+
# Random-effects
(1+year2018|subID), data=SPD, REML=FALSE)
anova(m0,m1)
anova(m0,m1, m2)
## Effects of Time ----
m0<-lmer(sqrt(NAT_SPD)~
# Fixed-effects
1+year2018+
# Random-effects
(1+year2018|subID), data=SPD, REML=FALSE)
summary(m0)
# Level 1 Assumptions
plot(density(resid(m0)))
qqnorm(resid(m0)/sd(resid(m0)))
abline(a=0, b=1)
shapiro.test(resid(m0)/sd(resid(m0)))
length(resid(m0))
ks.test(x=resid(m0)/sd(resid(m0)),
y=rnorm(381, 0, 1))
# Level 2
head(SPD)
LVL2<-SPD %>%
group_by(subID) %>%
summarise(Age_2018=Age_2018[1])
head(LVL2)
LVL2$RE_int<-ranef(m0)$subID$`(Intercept)`
LVL2$RE_slope<-ranef(m0)$subID$year2018
LVL2$SRE_int<-LVL2$RE_int/sd(LVL2$RE_int)
LVL2$SRE_slope<-LVL2$RE_slope/sd(LVL2$RE_slope)
head(LVL2)
qqnorm(LVL2$SRE_int, ylim=c(-4,4), xlim=c(-4,4))
abline(a=0, b=1)
qqnorm(LVL2$SRE_slope, ylim=c(-4,4), xlim=c(-4,4))
abline(a=0, b=1)
ks.test(LVL2$SRE_int, rnorm(140, 0, 1))
ks.test(LVL2$SRE_slope, rnorm(140, 0, 1))
plot(fitted(m0),resid(m0)/sd(resid(m0)))
## USE THIS CODE ----
plot(fitted(m0),(abs(resid(m0)/sd(resid(m0)))))
summary(lm((abs(resid(m0)/sd(resid(m0))))~fitted(m0)))
## Opening libraries -----------------------------------------------------------
library("ggplot2"); library("lme4"); library("lmerTest");library("dplyr");
library("car")
# if you do not already have these libraries installed, you will need to run:
# install.packages("ggplot2"); install.packages("lme4"); install.packages("lmerTest");
# install.packages("dplyr"); install.packages("car")
## Set working Directory ------------------------------------------------
getwd()
setwd("~/GitHub/cat_learn/")
getwd()
# let's see what is in the data folder
list.files()
##  Create a new smaller dataframe, REST, PRE, PRAC ----------------------------
DATA <- read.csv("./data_MASTER.csv",
header = TRUE, sep=",",na.strings=c("","NA"))
head(DATA)
DATA$trial.c<-(DATA$trial-mean(DATA$trial))/10 #1-unit change = 10 trials
DATA$stim_cat<-factor(DATA$stim_cat)
DATA$resp_cat<-factor(DATA$resp_cat)
DATA$next_resp_same_cat<-factor(DATA$next_resp_same_cat)
DATA$prev_resp_same_cat<-factor(DATA$prev_resp_same_cat)
# Removing NAs for missed responses (1 exclusion)
DAT2<-subset(DATA, correct != "NA")
# Removing NAs for artifact rejection in the RewP (92 exclusions)
DAT2<-subset(DAT2, RewP != "NA")
## Removing statistical outliers in the data -----------------------------------
# Removing RewP Outliers ----
summary(DAT2$RewP)
sd(DAT2$RewP, na.rm=TRUE)
quantile(DAT2$RewP, c(0.01,0.50,0.99), na.rm=TRUE)
plot(density(DAT2$RewP))
DAT2<-subset(DAT2, RewP >= -50)
DAT2<-subset(DAT2, RewP <= 50)
plot(density(DAT2$RewP))
# Removal of outlying ESPN and FSPN values.
# Removing Encoding SPN Outliers ----
summary(DAT2$stim_SPN)
sd(DAT2$stim_SPN, na.rm=TRUE)
plot(density(DAT2$stim_SPN, na.rm=TRUE))
quantile(DAT2$stim_SPN, c(0.0005,0.50,0.9995), na.rm=TRUE)
DAT2<-subset(DAT2, stim_SPN >= -130)
DAT2<-subset(DAT2, stim_SPN <= 130)
plot(density(DAT2$stim_SPN, na.rm=TRUE))
# Removing Feedback SPN Outliers ----
summary(DAT2$fdbk_SPN)
sd(DAT2$fdbk_SPN, na.rm=TRUE)
plot(density(DAT2$fdbk_SPN, na.rm=TRUE))
quantile(DAT2$fdbk_SPN, c(0.0005,0.50,0.9995), na.rm=TRUE)
DAT2<-subset(DAT2, fdbk_SPN >= -196)
DAT2<-subset(DAT2, fdbk_SPN <= 196)
plot(density(DAT2$fdbk_SPN, na.rm=TRUE))
## Merging the acquistion data with the learning data --------------------------
LEARN <- read.csv("./data_POST_AVE.csv",
header = TRUE, sep=",",na.strings=c("","NA"))
head(LEARN)
# selecting the subset of columns we want (ignoring individual categories for now)
head(LEARN[c(1,2,8,14,15,21,27,28,29,30,36:46)])
LEARN2<-LEARN[c(1,2,8,14,15,21,27,28,29,30,36:46)]
COMB <- merge(DAT2, LEARN2, by ="subID")
head(COMB)
## -------------------------- Overall Analyses ---------------------------------
## ------------------------ Single Trial Analyses ------------------------------
## Improvement Over Time During Practice ---------------------------------------
## Does accuracy improve over time?
head(COMB)
COMB$hit_binom<-(COMB$hit+1)/2
COMB$sterile.c<-(as.numeric(COMB$acq_cond)-1.5)*2
summary(as.factor(COMB$sterile))
summary(COMB$trial.c)
contrasts(COMB$stim_cat)<-contr.poly(5)
p01<-glmer(hit_binom~
# Fixed-effects
1+sterile.c*trial.c+ # adding in interaction
# Random-effects
(1+trial.c|subID)+(1|stim_cat)+(1|subID:stim_cat), data=COMB, family = binomial)
summary(p01)
Anova(p01, type=c("III"))
## Aggregate RewP --------------------------------------------------------------
POST <- read.csv("./data_POST_LONG.csv",
header = TRUE, sep=",",na.strings=c("","NA"))
POST$sterile.c<-(as.numeric(POST$acq_cond)-1.5)*2
head(POST)
AVE<-subset(POST, post_cond=="game" & rotated=="-1")
AVE<-subset(AVE, RewP_diff_Windows!="NA")
summary(AVE$RewP_diff_Windows)
m02<-lm(RewP_diff_Windows~sterile.c, data=AVE)
summary(m02)
anova(m02)
t.test(RewP_diff_Windows~acq_cond, data=AVE, paired=FALSE, var.equal=TRUE)
## Primary Analysis: Engagement --------------------------------------------------
head(AVE)
m05<-lm(eng_total~acq_cond, data=AVE)
summary(m05)
t.test(eng_total~acq_cond, data=AVE ,var.equal=TRUE)
## Practice Performance as a funciton of RewP ----------------------------------
head(LEARN)
LEARN$sterile.c<-(as.numeric(LEARN$acq_cond)-1.5)*2
m00a<-lm(sqrt(acq_total)~sterile.c+RewP_diff_Windows, data=LEARN)
summary(m00a)
#plot(m00b)
summary(LEARN$acq_cond)
m00b<-lm(sqrt(acq_total)~sterile.c+RewP_hit_ave_Windows+RewP_miss_ave_Windows,
data=LEARN)
summary(m00b)
#plot(m00b)
## -----------------------------------------------------------------------------
